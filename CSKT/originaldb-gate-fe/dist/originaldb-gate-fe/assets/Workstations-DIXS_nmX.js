import{w as E,r,z as v,B as b,j as s,W as y,y as o,E as W,aQ as D}from"./index-DXrCg2vr.js";import{W as d,g as V,m as j}from"./WorkstationsAction-Cs0dwKwA.js";import{P as K}from"./PlusCircleOutlined-JzIS5LvP.js";import"./Ward.action-D2xWCgQ3.js";import"./StationFunction.action-BrqCOwjU.js";import"./StationType.action-vp6QDcJD.js";import"./ModalCategoryActionHeader-CMTsFAdF.js";import"./index-B0_H1u92.js";import"./ItemsComponent-Ct2UsBCT.js";import"./index-CfEarsVi.js";import"./index-Bb5KQ1O1.js";import"./arrayToTree.min-Bpdh5Rxo.js";const A=[{key:o.Create,icon:s.jsxDEV(K,{},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:32,columnNumber:11},void 0),className:"border-none text-primary shadow-#0",title:"Thêm mới"}];function Q(){const{openModal:l}=E(),[N,h]=r.useState([]),[i,w]=r.useState({count:0}),[x,m]=r.useState(!1),[n,f]=r.useState({page:1,pageSize:v}),[c,C]=r.useState({}),S=[{title:"Tên",dataIndex:"name",fixed:"left",width:300,key:b.Name,render:(e,a)=>s.jsxDEV("span",{className:"text-primary cursor-pointer font-semibold",onClick:()=>{k(a)},children:e},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:60,columnNumber:11},this)},{title:"Ký hiện trạm",dataIndex:"symbol",width:200,key:"symbol"},{title:"Địa chỉ",dataIndex:"address"},{title:"SĐT",dataIndex:"phone_number"}].map(e=>({...e,key:(e==null?void 0:e.key)||y()})),u=async(e,a,t)=>{try{m(!0);const g=await Promise.all([await V({limit:a,page:e},t),await j({})]);h(g[0]),w(g[1]),m(!1)}catch{m(!1)}},k=e=>{l(s.jsxDEV(d,{detail:e,action:o.View},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:134,columnNumber:15},this),{width:"80vw",onModalClose(a){a!=null&&a.success&&l(s.jsxDEV(d,{detail:e,action:o.Update},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:139,columnNumber:13},this),{width:"80vw",onModalClose(t){t!=null&&t.success&&p()}})}})},T=(e,a)=>{switch(e){case o.View:k(a);break;case o.Create:l(s.jsxDEV(d,{parent_id:a==null?void 0:a.id,action:o.Create},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:162,columnNumber:11},this),{width:"80vw",onModalClose(t){t!=null&&t.success&&p()}});break}},p=()=>{u(n.page,n.pageSize,c)};return r.useEffect(()=>{u(n.page,n.pageSize,c)},[c]),s.jsxDEV("div",{className:"w-[900px]",children:s.jsxDEV(W,{total:(i==null?void 0:i.count)||0,className:"mt-5",isReloadButton:!1,dataSource:D(N),columns:S,actionList:A,isAction:!0,loading:x,setFilter:C,paginationCustom:{current:n.page,pageSize:n.pageSize,total:i==null?void 0:i.count},setPagination:f,onChange:({current:e,pageSize:a})=>{f({page:e,pageSize:a}),u(e,a,c)},rowClassName:"hover:bg-secondary group",actionWidth:100,actionClick:T,filterColumns:[b.Name,"symbol"],btnCreate:!0,handleCreate:()=>{l(s.jsxDEV(d,{action:o.Create},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:213,columnNumber:21},this),{width:"80vw",onModalClose(e){e!=null&&e.success&&p()}})}},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:186,columnNumber:7},this)},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/operation-categories/pages/Workstations.tsx",lineNumber:185,columnNumber:5},this)}export{A as ACTION_TABLE,Q as default};
