import{w as D,r as o,z as T,B as p,j as t,y as n,E as _,G as v}from"./index-DXrCg2vr.js";import{W as f}from"./WardAction-JECdQhAQ.js";import{g as V,m as W}from"./Ward.action-D2xWCgQ3.js";import"./ModalCategoryActionHeader-CMTsFAdF.js";import"./index-B0_H1u92.js";import"./AdministrativeUnit.action-B2dXwrla.js";import"./District.action-DZ-61Nb8.js";import"./ItemsComponent-Ct2UsBCT.js";import"./index-CfEarsVi.js";import"./index-Bb5KQ1O1.js";const y=[{key:n.View,icon:t.jsxDEV(v,{},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:18,columnNumber:15},void 0),tooltip:"Chi tiết"}];function F(){const{openModal:c}=D(),[i,N]=o.useState({page:1,pageSize:T}),[h,x]=o.useState([]),[d,C]=o.useState({count:0}),[k,g]=o.useState(!1),[l,w]=o.useState({}),S=[{title:"Xã/phường/thị trấn",dataIndex:"name",fixed:"left",key:p.Name,render:(e,a)=>t.jsxDEV("span",{className:"font-semibold text-sm cursor-pointer text-[#3D73D0]",onClick:()=>b(n.View,a),children:e??""},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:38,columnNumber:21},this)},{title:"Tên rút gọn",dataIndex:p.ShortName,key:"short_name"},{title:"Đơn vị hành chính",dataIndex:"admin_unit_id",key:"admin_unit_id",render:(e,a)=>{var s;return(s=a==null?void 0:a.admin_unit_id)==null?void 0:s.name}},{title:"Huyện",dataIndex:"district_id",key:"district_id",render:(e,a)=>{var s;return(s=a==null?void 0:a.district_id)==null?void 0:s.name}},{title:"Trạng thái",dataIndex:"is_enable",key:"is_enable",render:e=>e?t.jsxDEV("span",{className:"text-green-600",children:"Hoạt động"},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:68,columnNumber:47},this):t.jsxDEV("span",{className:"text-red",children:"Không hoạt động"},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:68,columnNumber:99},this)}],u=async(e,a,s)=>{try{g(!0);const r=await Promise.all([V({limit:a,page:e},s),W(s)]);r[1]&&C({count:r[1].count}),x(r[0]),g(!1)}catch(r){g(!1),console.log(r)}},E=e=>{c(t.jsxDEV(f,{id:e==null?void 0:e.id,action:n.View},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:89,columnNumber:13},this),{width:"45vw",onModalClose(a){a!=null&&a.success?c(t.jsxDEV(f,{id:e==null?void 0:e.id,action:n.Update},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:95,columnNumber:29},this),{width:"45vw",onModalClose(){m()}}):m()}})},b=(e,a)=>{console.log(e),e===n.View&&E(a)},m=()=>{u(i.page,i.pageSize,l)};return o.useEffect(()=>{u(i.page,i.pageSize,l)},[l]),t.jsxDEV("div",{className:"w-[900px]",children:t.jsxDEV(_,{setFilter:w,setPagination:N,className:"mt-5",isReloadButton:!0,dataSource:[...h],columns:S,paginationCustom:{current:i.page,pageSize:i.pageSize,total:d==null?void 0:d.count},onChange:({current:e,pageSize:a})=>{N({page:e,pageSize:a}),u(e,a,l)},actionList:y,actionClick:b,isAction:!1,loading:k,rowKey:"id",filterColumns:[p.Name],btnCreate:!0,handleCreate:()=>{c(t.jsxDEV(f,{action:n.Create},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:150,columnNumber:21},this),{width:"45vw",onModalClose(e){e!=null&&e.success&&m()}})}},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:123,columnNumber:9},this)},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/WardCategories.tsx",lineNumber:122,columnNumber:12},this)}export{F as default};
