import{w as D,r as n,z as T,B as h,j as t,y as o,E as _,G as v}from"./index-DXrCg2vr.js";import{W as p}from"./WardAction-JECdQhAQ.js";import{g as V,m as B}from"./Ward.action-D2xWCgQ3.js";import"./ModalCategoryActionHeader-CMTsFAdF.js";import"./index-B0_H1u92.js";import"./AdministrativeUnit.action-B2dXwrla.js";import"./District.action-DZ-61Nb8.js";import"./ItemsComponent-Ct2UsBCT.js";import"./index-CfEarsVi.js";import"./index-Bb5KQ1O1.js";const y=[{key:o.View,icon:t.jsxDEV(v,{},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:18,columnNumber:15},void 0),tooltip:"Chi tiết"}];function F(){const{openModal:c}=D(),[i,f]=n.useState({page:1,pageSize:T}),[b,x]=n.useState([]),[d,C]=n.useState({count:0}),[k,u]=n.useState(!1),[r,w]=n.useState({}),S=[{title:"Xã/phường/thị trấn",dataIndex:"name",fixed:"left",key:h.Name,render:(e,a)=>t.jsxDEV("span",{className:"font-semibold text-sm cursor-pointer text-[#3D73D0]",onClick:()=>N(o.View,a),children:e??""},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:38,columnNumber:21},this)},{title:"Tên rút gọn",dataIndex:h.ShortName,key:"short_name"},{title:"Đơn vị hành chính",dataIndex:"admin_unit_id",key:"admin_unit_id",render:(e,a)=>{var s;return(s=a==null?void 0:a.admin_unit_id)==null?void 0:s.name}},{title:"Huyện",dataIndex:"district_id",key:"district_id",render:(e,a)=>{var s;return(s=a==null?void 0:a.district_id)==null?void 0:s.name}},{title:"Trạng thái",dataIndex:"is_enable",key:"is_enable",render:e=>e?t.jsxDEV("span",{className:"text-green-600",children:"Hoạt động"},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:68,columnNumber:47},this):t.jsxDEV("span",{className:"text-red",children:"Không hoạt động"},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:68,columnNumber:99},this)}],g=async(e,a,s)=>{try{u(!0);const l=await Promise.all([V({limit:a,page:e},s),B(s)]);l[1]&&C({count:l[1].count}),x(l[0]),u(!1)}catch(l){u(!1),console.log(l)}},E=e=>{c(t.jsxDEV(p,{id:e==null?void 0:e.id,action:o.View},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:89,columnNumber:13},this),{width:"45vw",onModalClose(a){a!=null&&a.success?c(t.jsxDEV(p,{id:e==null?void 0:e.id,action:o.Update},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:95,columnNumber:29},this),{width:"45vw",onModalClose(){m()}}):m()}})},N=(e,a)=>{console.log(e),e===o.View&&E(a)},m=()=>{g(i.page,i.pageSize,r)};return n.useEffect(()=>{g(i.page,i.pageSize,r)},[r]),t.jsxDEV("div",{className:"w-[900px]",children:t.jsxDEV(_,{setFilter:w,setPagination:f,className:"mt-5",isReloadButton:!0,dataSource:[...b],columns:S,paginationCustom:{current:i.page,pageSize:i.pageSize,total:d==null?void 0:d.count},onChange:({current:e,pageSize:a})=>{f({page:e,pageSize:a}),g(e,a,r)},actionList:y,actionClick:N,isAction:!1,loading:k,rowKey:"id",filterColumns:[h.Name],btnCreate:!0,handleCreate:()=>{c(t.jsxDEV(p,{action:o.Create},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:150,columnNumber:21},this),{width:"45vw",onModalClose(e){e!=null&&e.success&&m()}})}},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:123,columnNumber:9},this)},void 0,!1,{fileName:"/workspace/cskt/CSKT/originaldb-gate-fe/src/modules/it-categories/pages/BinhChung.tsx",lineNumber:122,columnNumber:12},this)}export{F as default};
